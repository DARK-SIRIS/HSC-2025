<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Friends & Family Gallery</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body { font-family: Arial, sans-serif; background:#111; color:#eee; margin:0; padding:0; }
h2 { text-align:center; margin-top:1rem; }
.gallery-filters { text-align:center; margin-bottom:1rem; }
.filter-btn { padding:0.5rem 1rem; margin:0.2rem; cursor:pointer; border:none; background:#222; color:#fff; border-radius:5px; }
.filter-btn.active { background:#f09; }
.gallery-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1rem; padding:1rem; }
.friend-card { background:#222; border-radius:10px; padding:1rem; text-align:center; transition:0.3s; }
.friend-card:hover { transform:translateY(-5px); box-shadow:0 0 10px #f09; }
.friend-avatar img { width:120px; height:120px; border-radius:50%; object-fit:cover; margin-bottom:0.5rem; }
.contact-icons a { margin:0 0.3rem; color:#eee; text-decoration:none; font-size:1.2rem; }
</style>
</head>
<body>

<h2>📸 Memory Gallery 2029</h2>
<div class="gallery-filters">
    <button class="filter-btn active" onclick="filterGallery('all')">All</button>
    <button class="filter-btn" onclick="filterGallery('friends')">Friends</button>
    <button class="filter-btn" onclick="filterGallery('family')">Family</button>
</div>
<div class="gallery-grid" id="friendGrid"></div>

<script>
// Global variables
let friends = [
    {id:1,username:"Alif_404",type:"friends",bio:"Coder | Dreamer | Designer",quote:"Code. Create. Conquer.",birthday:"2000-01-15",contacts:{facebook:"#",instagram:"https://abdullah.battlecore.xyz/",whatsapp:"#",telegram:"https://t.me/Alif_404",messenger:"#"}},
    {id:2,username:"Sarah_chen",type:"friends",bio:"Artist & dreamer 🎨",quote:"Create your own sunshine",birthday:"1993-03-22",contacts:{facebook:"#",instagram:"#",whatsapp:"#",telegram:"https://t.me/Sarah_chen",messenger:"#"}},
    {id:3,username:"MikeR",type:"friends",bio:"Fitness enthusiast & chef 🍳",quote:"Strong body, strong mind",birthday:"1990-11-08",contacts:{facebook:"#",instagram:"#",whatsapp:"#",telegram:"https://t.me/MikeR",messenger:"#"}},
    {id:4,username:"Emma_Wilson",type:"family",bio:"Bookworm & traveler 📚",quote:"Not all who wander are lost",birthday:"1997-09-12",contacts:{facebook:"#",instagram:"#",whatsapp:"https://abdullah.battlecore.xyz/",telegram:"https://t.me/Emma_Wilson",messenger:"#"}},
    {id:5,username:"Rafiul_Hasan",type:"family",bio:"Tech enthusiast & nature lover 🌿",quote:"Stay curious, stay inspired",birthday:"1998-07-03",contacts:{facebook:"#",instagram:"#",whatsapp:"#",telegram:"https://t.me/Rafiul_Hasan",messenger:"#"}}
];

// CPanel PHP API URL
const API_URL = "https://abdullha.2cloud.top/friend-familly/getTelegram.php";

// Fetch Telegram info from API
async function initializeFriends(){
    for(let friend of friends){
        if(friend.username){
            try{
                const res = await fetch(`${API_URL}?username=${friend.username}`);
                const data = await res.json();
                friend.name = data.name || friend.username;
                friend.image = data.photo || "https://via.placeholder.com/120";
            }catch(err){
                friend.name = friend.username;
                friend.image = "https://via.placeholder.com/120";
            }
        }
    }
    renderFriends();
}

// Render friends
function renderFriends(){
    const grid = document.getElementById('friendGrid');
    grid.innerHTML = friends.map(friend=>`
        <div class="friend-card" data-type="${friend.type}">
            <div class="friend-avatar">
                <img src="${friend.image}" alt="${friend.name}">
            </div>
            <h3>${friend.name}</h3>
            <p>${friend.bio}</p>
            <p style="font-style:italic;">"${friend.quote}"</p>
            <div>🎂 ${new Date(friend.birthday).toLocaleDateString()}</div>
            <div class="contact-icons">
                <a href="${friend.contacts.facebook}" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="${friend.contacts.instagram}" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="${friend.contacts.whatsapp}" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                <a href="${friend.contacts.telegram}" title="Telegram"><i class="fab fa-telegram"></i></a>
                <a href="${friend.contacts.messenger}" title="Messenger"><i class="fab fa-facebook-messenger"></i></a>
            </div>
        </div>
    `).join('');
}

// Filter buttons
function filterGallery(type){
    document.querySelectorAll('.filter-btn').forEach(btn=>btn.classList.remove('active'));
    event.target.classList.add('active');
    document.querySelectorAll('.friend-card').forEach(card=>{
        card.style.display = (type==='all'||card.dataset.type===type)?'block':'none';
    });
}

// Initialize
initializeFriends();
</script>

</body>
</html>
